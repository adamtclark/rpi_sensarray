plot(xrng, yrng, type = "n", xlab = "", ylab = "", xaxs = "i")
title(paste(letters[ind+(mnth-8)*3],".", sep=""), line=-0.4, adj = 0.05)
polygon(c(agdat$hour[subs1], rev(agdat$hour[subs1])),
c(agdat$x[,1][subs1]+agdat$x[,2][subs1],
rev(agdat$x[,1][subs1]-agdat$x[,2][subs1])),
border = 1, col=adjustcolor(collst[1,ind], alpha.f = 0.8))
polygon(c(agdat$hour[subs2], rev(agdat$hour[subs2])),
c(agdat$x[,1][subs2]+agdat$x[,2][subs2],
rev(agdat$x[,1][subs2]-agdat$x[,2][subs2])),
border = 1, col=adjustcolor(collst[2,ind], alpha.f = 0.8))
if(ind==1) {
mtext(c("August", "September")[mnth-7], 2, line=2.2)
}
if(mnth==8) {
mtext(paste("Sown Richness =", i), 3, line=0.2)
}
}
}
mtext("Mean Hourly Temperature, °C", side = 2, outer=TRUE, line=2.2)
dev.off()
pdf("figures/dailytemp_trend.pdf", width=7, height=5, colormodel = "cmyk", useDingbats = FALSE)
par(mfrow=c(2,3), mar = c(2,2,1,1), oma=c(1,4,1,0))
for(mnth in 8:9) {
for(ind in 1:3) {
i = c(1,4,16)[ind]
subs1 = which(agdat$Plant_Species==i & agdat$subplot=="control" & agdat$month==mnth)
subs2 = which(agdat$Plant_Species==i & agdat$subplot=="high" & agdat$month==mnth)
subs1 = subs1[order(agdat$hour[subs1])]
subs2 = subs2[order(agdat$hour[subs2])]
plot(xrng, yrng, type = "n", xlab = "", ylab = "", xaxs = "i")
title(paste(letters[ind+(mnth-8)*3],".", sep=""), line=-0.8, adj = 0.03)
polygon(c(agdat$hour[subs1], rev(agdat$hour[subs1])),
c(agdat$x[,1][subs1]+agdat$x[,2][subs1],
rev(agdat$x[,1][subs1]-agdat$x[,2][subs1])),
border = 1, col=adjustcolor(collst[1,ind], alpha.f = 0.8))
polygon(c(agdat$hour[subs2], rev(agdat$hour[subs2])),
c(agdat$x[,1][subs2]+agdat$x[,2][subs2],
rev(agdat$x[,1][subs2]-agdat$x[,2][subs2])),
border = 1, col=adjustcolor(collst[2,ind], alpha.f = 0.8))
if(ind==1) {
mtext(c("August", "September")[mnth-7], 2, line=2.2)
}
if(mnth==8) {
mtext(paste("Sown Richness =", i), 3, line=0.2)
}
}
}
mtext("Mean Hourly Temperature, °C", side = 2, outer=TRUE, line=2.2)
dev.off()
pdf("figures/dailytemp_trend.pdf", width=7, height=5, colormodel = "cmyk", useDingbats = FALSE)
par(mfrow=c(2,3), mar = c(2,2,1,1), oma=c(1,4,1,0))
for(mnth in 8:9) {
for(ind in 1:3) {
i = c(1,4,16)[ind]
subs1 = which(agdat$Plant_Species==i & agdat$subplot=="control" & agdat$month==mnth)
subs2 = which(agdat$Plant_Species==i & agdat$subplot=="high" & agdat$month==mnth)
subs1 = subs1[order(agdat$hour[subs1])]
subs2 = subs2[order(agdat$hour[subs2])]
plot(xrng, yrng, type = "n", xlab = "", ylab = "", xaxs = "i")
title(paste(letters[ind+(mnth-8)*3],".", sep=""), line=-0.95, adj = 0.03)
polygon(c(agdat$hour[subs1], rev(agdat$hour[subs1])),
c(agdat$x[,1][subs1]+agdat$x[,2][subs1],
rev(agdat$x[,1][subs1]-agdat$x[,2][subs1])),
border = 1, col=adjustcolor(collst[1,ind], alpha.f = 0.8))
polygon(c(agdat$hour[subs2], rev(agdat$hour[subs2])),
c(agdat$x[,1][subs2]+agdat$x[,2][subs2],
rev(agdat$x[,1][subs2]-agdat$x[,2][subs2])),
border = 1, col=adjustcolor(collst[2,ind], alpha.f = 0.8))
if(ind==1) {
mtext(c("August", "September")[mnth-7], 2, line=2.2)
}
if(mnth==8) {
mtext(paste("Sown Richness =", i), 3, line=0.2)
}
}
}
mtext("Mean Hourly Temperature, °C", side = 2, outer=TRUE, line=2.2)
dev.off()
pdf("figures/dailytemp_trend.pdf", width=7, height=5, colormodel = "cmyk", useDingbats = FALSE)
par(mfrow=c(2,3), mar = c(2,2,1,1), oma=c(1,4,1,0))
for(mnth in 8:9) {
for(ind in 1:3) {
i = c(1,4,16)[ind]
subs1 = which(agdat$Plant_Species==i & agdat$subplot=="control" & agdat$month==mnth)
subs2 = which(agdat$Plant_Species==i & agdat$subplot=="high" & agdat$month==mnth)
subs1 = subs1[order(agdat$hour[subs1])]
subs2 = subs2[order(agdat$hour[subs2])]
plot(xrng, yrng, type = "n", xlab = "", ylab = "", xaxs = "i")
title(paste(letters[ind+(mnth-8)*3],".", sep=""), line=-0.95, adj = 0.025)
polygon(c(agdat$hour[subs1], rev(agdat$hour[subs1])),
c(agdat$x[,1][subs1]+agdat$x[,2][subs1],
rev(agdat$x[,1][subs1]-agdat$x[,2][subs1])),
border = 1, col=adjustcolor(collst[1,ind], alpha.f = 0.8))
polygon(c(agdat$hour[subs2], rev(agdat$hour[subs2])),
c(agdat$x[,1][subs2]+agdat$x[,2][subs2],
rev(agdat$x[,1][subs2]-agdat$x[,2][subs2])),
border = 1, col=adjustcolor(collst[2,ind], alpha.f = 0.8))
if(ind==1) {
mtext(c("August", "September")[mnth-7], 2, line=2.2)
}
if(mnth==8) {
mtext(paste("Sown Richness =", i), 3, line=0.2)
}
}
}
mtext("Mean Hourly Temperature, °C", side = 2, outer=TRUE, line=2.2)
dev.off()
error
rm(list=ls())
collst<-rbind(c("lightblue3", "cornflowerblue", "darkblue"),
c("lightpink2", "darkorange1", "darkred"))
dayofyearlookup<-cumsum(c(0,31,28,31,30,31,30,31,31,30,31,30))
setwd("~/Dropbox/Projects/013_Ant revision/code/")
tempdat = read.csv("../data/vHourMonthSubplot2012feb11.csv")
tempdat = tempdat[tempdat$month%in%c(8,9),]
load("../data/vDateSubplotDepth.rda")
bacdat<-bacdat[c(grep("2011-",bacdat$date), grep("2012-",bacdat$date)),]
bacdat$year = as.numeric(substr(bacdat$date, 1,4))
bacdat$month = as.numeric(substr(bacdat$date, 6,7))
bacdat$day = as.numeric(substr(bacdat$date, 9,10))
# get plant diversity data
plantdat = read.csv("../data/pitfall_ants_bac_140913.csv")
tempdat$Plant_Species = plantdat$Plant_Species[match(tempdat$plot, plantdat$PlotID)]
tempdat = tempdat[tempdat$Plant_Species%in%c(1,4,16),]
agdat = with(tempdat,
aggregate(meanHourlyMean, by=list(month=month, subplot=subplot, hour=hour, Plant_Species=Plant_Species), function(x) c(mean = mean(x), sd = sd(x))))
### plot average daily trend
xrng = c(0, 23)
yrng = c(12, 35)
pdf("figures/dailytemp_trend.pdf", width=7, height=5, colormodel = "cmyk", useDingbats = FALSE)
par(mfrow=c(2,3), mar = c(2,2,1,1), oma=c(1,4,1,0))
for(mnth in 8:9) {
for(ind in 1:3) {
i = c(1,4,16)[ind]
subs1 = which(agdat$Plant_Species==i & agdat$subplot=="control" & agdat$month==mnth)
subs2 = which(agdat$Plant_Species==i & agdat$subplot=="high" & agdat$month==mnth)
subs1 = subs1[order(agdat$hour[subs1])]
subs2 = subs2[order(agdat$hour[subs2])]
plot(xrng, yrng, type = "n", xlab = "", ylab = "", xaxs = "i")
title(paste(letters[ind+(mnth-8)*3],".", sep=""), line=-0.95, adj = 0.025)
polygon(c(agdat$hour[subs1], rev(agdat$hour[subs1])),
c(agdat$x[,1][subs1]+agdat$x[,2][subs1],
rev(agdat$x[,1][subs1]-agdat$x[,2][subs1])),
border = 1, col=adjustcolor(collst[1,ind], alpha.f = 0.8))
polygon(c(agdat$hour[subs2], rev(agdat$hour[subs2])),
c(agdat$x[,1][subs2]+agdat$x[,2][subs2],
rev(agdat$x[,1][subs2]-agdat$x[,2][subs2])),
border = 1, col=adjustcolor(collst[2,ind], alpha.f = 0.8))
if(ind==1) {
mtext(c("August", "September")[mnth-7], 2, line=2.2)
}
if(mnth==8) {
mtext(paste("Sown Richness =", i), 3, line=0.2)
}
}
}
mtext("Mean Hourly Temperature, °C", side = 2, outer=TRUE, line=2.2)
dev.off()
### plot max temperature over August and September
bacdat$dayofyear = bacdat$day+dayofyearlookup[bacdat$month]
agdat2 = with(bacdat[bacdat$depth == 1,],
aggregate(maximumTemp, by=list(dayofyear=dayofyear, year = year, subplot=subplot, Plant_Species=richness), function(x) c(mean = mean(x), sd = sd(x), n = length(x))))
pdf("figures/maxtemp.pdf", width=7, height=5, colormodel = "cmyk", useDingbats = FALSE)
par(mfcol=c(2,3), mar = c(2,2,1,1), oma=c(1,4,1,0))
xlm = dayofyearlookup[c(8,10)]
ylm = c(15,55)
for(ind in 1:3) {
for(yr in c(2011, 2012)) {
i = c(1,4,16)[ind]
subs = which(agdat2$Plant_Species==i & agdat2$year==yr & agdat2$subplot=="control")
subs = subs[order(agdat2$dayofyear[subs])]
# remove gaps
steps = diff(agdat2$dayofyear[subs])
tmp = which(steps > 1)
for(j in 1:length(tmp)) {
subs[tmp[j]+0:1] = NA
}
plot(agdat2$dayofyear[subs], agdat2$x[,1][subs], type = "l", xlim = xlm, ylim = ylm, axes = F, ylab = "", xlab = "",
lwd = 1.5, col=adjustcolor(collst[1,ind], alpha.f = 0.8))
title(paste(letters[ind+(yr-2011)*3],".", sep=""), line=-0.95, adj = 0.025)
subs2 = which(agdat2$Plant_Species==i & agdat2$year==yr & agdat2$subplot=="high")
subs2 = subs2[order(agdat2$dayofyear[subs2])]
# remove gaps
steps = diff(agdat2$dayofyear[subs2])
tmp = which(steps > 1)
for(j in 1:length(tmp)) {
subs2[tmp[j]+0:1] = NA
}
lines(agdat2$dayofyear[subs2], agdat2$x[,1][subs2],
lwd = 1.5, col=adjustcolor(collst[2,ind], alpha.f = 0.8))
axis(2)
axis(1, c("May", "June", "July", "Aug", "Sept", "Oct", "Nov"), at=dayofyearlookup[5:11])
box()
# identify significance of differences at p = 0.05
tempdiff = agdat2$x[,1][subs]-agdat2$x[,1][subs2][match(agdat2$dayofyear[subs], agdat2$dayofyear[subs2])]
jointsd = sqrt(agdat2$x[,2][subs]^2+agdat2$x[,2][subs2][match(agdat2$dayofyear[subs], agdat2$dayofyear[subs2])]^2)/sqrt(unique(agdat2$x[,3][subs])[1])
pv = pnorm(tempdiff, 0, jointsd)
tmp=which(is.finite(pv) & pv < 0.05)
k = 1
while(k < length(tmp)) {
if(is.na(subs[tmp[k]])) {
k = k+1
} else {
if(is.na(subs[tmp[k+1]]) || (tmp[k+1]!=(tmp[k]+1))) {
#abline(v=agdat2$dayofyear[subs][tmp[k]], col=adjustcolor("black", 0.1))
k = k+1
} else {
startk = k
while((tmp[k+1]==(tmp[k]+1)) & (k < length(tmp))) {
k = k+1
endk = k
}
polygon(c(agdat2$dayofyear[subs][tmp[c(startk,startk,endk,endk)]]),
c(0, 100, 100, 0),
col=adjustcolor("black", 0.1), border = NA)
k = k+1
}
}
}
if(ind==1) {
mtext(yr, 2, line=2.2)
}
if(yr==2011) {
mtext(paste("Sown Richness =", i), 3, line=0.2)
}
}
}
mtext("Maximum Daily Temperature, °C", side = 2, outer=TRUE, line=2.2)
dev.off()
setwd("~/Dropbox/Projects/083_SensorNetwork/src/rpi_sensarray/rprog/")
dir("../data/")
timedat = read.table("../data/time_data_rpz_008.txt", header = F, sep = ";")
timedat
dim(timedat)
dir("../data/")
timedat = read.table("../data/time_data_rpz_008.txt", header = F, sep = ";")
air_humtempdat = read.table("../data/air_humtemp_data_rpz_008.txt", header = F, sep = ";")
soil_tempdat = read.table("../data/soil_temp_data_rpz_008.txt", header = F, sep = ";")
soil_moistdat = read.table("../data/soil_moist_data_rpz_008.txt", header = F, sep = ";")
timedat = read.table("../data/time_data_rpz_008.txt", header = F, sep = ";")
air_humtempdat = read.table("../data/air_humtemp_data_rpz_008.txt", header = F, sep = ";")
soil_tempdat = read.table("../data/soil_temp_data_rpz_008.txt", header = F, sep = ";")
soil_moistdat = read.table("../data/soil_moist_data_rpz_008.txt", header = F, sep = ";", fill = TRUE)
dim(timedat)
dim(air_humtempdat)
dim(soil_tempdat)
dim(soil_moistdat)
# process air data
head(air_humtempdat)
colnames(air_humtempdat) = c("date", "Temp1", "Hum1", "Temp2", "Hum2")
as.numeric(gsub("AT01: ", "", air_humtempdat$Temp1, fixed=TRUE))
# process air data
head(air_humtempdat)
colnames(air_humtempdat) = c("date", "Temp1", "Hum1", "Temp2", "Hum2")
air_humtempdat$Temp1 = as.numeric(gsub("AT01: ", "", air_humtempdat$Temp1, fixed=TRUE))
air_humtempdat$Hum1 = as.numeric(gsub("AH01: ", "", air_humtempdat$Hum1, fixed=TRUE))
air_humtempdat$Temp2 = as.numeric(gsub("AT02: ", "", air_humtempdat$Temp2, fixed=TRUE))
air_humtempdat$Hum2 = as.numeric(gsub("AH02: ", "", air_humtempdat$Hum2, fixed=TRUE))
head(air_humtempdat)
air_humtempdat$year = as.numeric(substr(air_humtempdat$date, 1, 4))
air_humtempdat$month = as.numeric(substr(air_humtempdat$date, 6, 7))
air_humtempdat$day = as.numeric(substr(air_humtempdat$date, 9, 10))
air_humtempdat$hour = as.numeric(substr(air_humtempdat$date, 12, 13))
air_humtempdat$minute = as.numeric(substr(air_humtempdat$date, 15, 16))
air_humtempdat$second = as.numeric(substr(air_humtempdat$date, 18, 19))
head(air_humtempdat)
air_humtempdat$dayofyear = dayofyearlookup[air_humtempdat$month]+air_humtempdat$day+air_humtempdat$hour/24+air_humtempdat$minute/24/60+air_humtempdat$second/24/60/60
# plot exampl
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
# plot example
par(mfrow=c(2,1), mar=c(4,4,2,2))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
# plot example
par(mfrow=c(2,1), mar=c(4,4,1,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
## soil temp data
head(soil_tempdat)
## soil temp data
head(soil_tempdat)
View(air_humtempdat)
soil_tempdat$Temp1 = as.numeric(substr(soil_tempdat$Temp1, 17,21))
## soil temp data
head(soil_tempdat)
colnames(soil_tempdat) = c("date", "Temp1", "Temp2", "Temp3")
soil_tempdat$Temp1 = as.numeric(substr(soil_tempdat$Temp1, 17,21))
soil_tempdat$Temp2 = as.numeric(substr(soil_tempdat$Temp2, 17,21))
soil_tempdat$Temp3 = as.numeric(substr(soil_tempdat$Temp3, 17,21))
head(soil_tempdat)
soil_tempdat$Temp3
soil_tempdat$date
soil_tempdat$year = as.numeric(substr(soil_tempdat$date, 1, 4))
soil_tempdat$month = as.numeric(substr(soil_tempdat$date, 6, 7))
soil_tempdat$day = as.numeric(substr(soil_tempdat$date, 9, 10))
soil_tempdat$hour = as.numeric(substr(soil_tempdat$date, 12, 13))
soil_tempdat$minute = as.numeric(substr(soil_tempdat$date, 15, 16))
soil_tempdat$second = as.numeric(substr(soil_tempdat$date, 18, 19))
soil_tempdat$dayofyear = dayofyearlookup[soil_tempdat$month]+soil_tempdat$day+soil_tempdat$hour/24+soil_tempdat$minute/24/60+soil_tempdat$second/24/60/60
head(soil_tempdat)
par(mfrow=c(2,1), mar=c(4,4,1,1))
par(mfrow=c(1,1), mar=c(4,4,1,1))
par(mfrow=c(1,1), mar=c(4,4,1,1))
matplot(soil_tempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
par(mfrow=c(1,1), mar=c(4,4,1,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
par(mfrow=c(2,1), mar=c(4,4,1,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
soil_tempdat$hour
unique(soil_tempdat)
soil_tempdat$hour
soil_tempdat$hour[seq(1, nrow(soil_tempdat)), length=8]
soil_tempdat$hour[seq(1, nrow(soil_tempdat), length=8)]
axis(3, at=seq(min(soil_tempdat$dayofyear), max(soil_tempdat$dayofyear), length=8), soil_tempdat$hour[seq(1, nrow(soil_tempdat), length=8)])
mtext(3, "Hour", line = 2.2)
mtext(3, "Hour", line = 1.2)
mtext(side = 3, text = "Hour", line = 1.2)
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(soil_tempdat$dayofyear), max(soil_tempdat$dayofyear), length=8), soil_tempdat$hour[seq(1, nrow(soil_tempdat), length=8)])
mtext(side = 3, text = "Hour", line = 1.2)
mtext(side = 3, text = "Hour", line = 2.2)
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(2,1), mar=c(4,4,1,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
par(mfrow=c(2,1), mar=c(4,4,4,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
## soil moist data
head(soil_moistdat)
colnames(soil_tempdat) = c("date", "Moist1", "Moist2")
## soil temp data
head(soil_tempdat)
colnames(soil_tempdat) = c("date", "Temp1", "Temp2", "Temp3")
colnames(soil_moistdat) = c("date", "Moist1", "Moist2")
## soil moist data
head(soil_moistdat)
## soil moist data
head(soil_moistdat)
colnames(soil_moistdat) = c("date", "Moist1", "Moist2")
as.numeric(gsub("C01: ", "", soil_moistdat$Moist1, fixed=TRUE))
colnames(soil_moistdat) = c("date", "Moist1", "Moist2")
soil_moistdat$Moist1 = as.numeric(gsub("C01: ", "", soil_moistdat$Moist1, fixed=TRUE))
soil_moistdat$Moist2 = as.numeric(gsub("C02: ", "", soil_moistdat$Moist2, fixed=TRUE))
soil_moistdat$year = as.numeric(substr(soil_moistdat$date, 1, 4))
soil_moistdat$month = as.numeric(substr(soil_moistdat$date, 6, 7))
soil_moistdat$day = as.numeric(substr(soil_moistdat$date, 9, 10))
soil_moistdat$hour = as.numeric(substr(soil_moistdat$date, 12, 13))
soil_moistdat$minute = as.numeric(substr(soil_moistdat$date, 15, 16))
soil_moistdat$second = as.numeric(substr(soil_moistdat$date, 18, 19))
soil_moistdat$dayofyear = dayofyearlookup[soil_moistdat$month]+soil_moistdat$day+soil_moistdat$hour/24+soil_moistdat$minute/24/60+soil_moistdat$second/24/60/60
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
#matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist2")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
#matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
#matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist2")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
axis(3, at=seq(min(soil_moistdat$dayofyear), max(soil_moistdat$dayofyear), length=8), soil_moistdat$hour[seq(1, nrow(soil_moistdat), length=8)])
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(1,1), mar=c(4,4,4,1))
#matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist2")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
axis(3, at=seq(min(soil_moistdat$dayofyear), max(soil_moistdat$dayofyear), length=8), soil_moistdat$hour[seq(1, nrow(soil_moistdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(soil_tempdat$dayofyear), max(soil_tempdat$dayofyear), length=8), soil_tempdat$hour[seq(1, nrow(soil_tempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
## soil temp data
head(soil_tempdat)
colnames(soil_tempdat) = c("date", "Temp1", "Temp2", "Temp3")
soil_tempdat$Temp1 = as.numeric(substr(soil_tempdat$Temp1, 17,21))
soil_tempdat$Temp2 = as.numeric(substr(soil_tempdat$Temp2, 17,21))
soil_tempdat$Temp3 = as.numeric(substr(soil_tempdat$Temp3, 17,21))
soil_tempdat$year = as.numeric(substr(soil_tempdat$date, 1, 4))
soil_tempdat$month = as.numeric(substr(soil_tempdat$date, 6, 7))
soil_tempdat$day = as.numeric(substr(soil_tempdat$date, 9, 10))
soil_tempdat$hour = as.numeric(substr(soil_tempdat$date, 12, 13))
soil_tempdat$minute = as.numeric(substr(soil_tempdat$date, 15, 16))
soil_tempdat$second = as.numeric(substr(soil_tempdat$date, 18, 19))
soil_tempdat$dayofyear = dayofyearlookup[soil_tempdat$month]+soil_tempdat$day+soil_tempdat$hour/24+soil_tempdat$minute/24/60+soil_tempdat$second/24/60/60
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
soil_tempdat$dayofyear
soil_tempdat[,c("Temp1", "Temp2", "Temp3")]
error
rm(list=ls())
setwd("~/Dropbox/Projects/083_SensorNetwork/src/rpi_sensarray/rprog/")
dayofyearlookup<-cumsum(c(0,31,28,31,30,31,30,31,31,30,31,30))
### load data
timedat = read.table("../data/time_data_rpz_008.txt", header = F, sep = ";")
air_humtempdat = read.table("../data/air_humtemp_data_rpz_008.txt", header = F, sep = ";")
soil_tempdat = read.table("../data/soil_temp_data_rpz_008.txt", header = F, sep = ";")
soil_moistdat = read.table("../data/soil_moist_data_rpz_008.txt", header = F, sep = ";", fill = TRUE)
## air data
head(air_humtempdat)
colnames(air_humtempdat) = c("date", "Temp1", "Hum1", "Temp2", "Hum2")
air_humtempdat$Temp1 = as.numeric(gsub("AT01: ", "", air_humtempdat$Temp1, fixed=TRUE))
air_humtempdat$Hum1 = as.numeric(gsub("AH01: ", "", air_humtempdat$Hum1, fixed=TRUE))
air_humtempdat$Temp2 = as.numeric(gsub("AT02: ", "", air_humtempdat$Temp2, fixed=TRUE))
air_humtempdat$Hum2 = as.numeric(gsub("AH02: ", "", air_humtempdat$Hum2, fixed=TRUE))
air_humtempdat$year = as.numeric(substr(air_humtempdat$date, 1, 4))
air_humtempdat$month = as.numeric(substr(air_humtempdat$date, 6, 7))
air_humtempdat$day = as.numeric(substr(air_humtempdat$date, 9, 10))
air_humtempdat$hour = as.numeric(substr(air_humtempdat$date, 12, 13))
air_humtempdat$minute = as.numeric(substr(air_humtempdat$date, 15, 16))
air_humtempdat$second = as.numeric(substr(air_humtempdat$date, 18, 19))
air_humtempdat$dayofyear = dayofyearlookup[air_humtempdat$month]+air_humtempdat$day+air_humtempdat$hour/24+air_humtempdat$minute/24/60+air_humtempdat$second/24/60/60
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
## soil temp data
head(soil_tempdat)
colnames(soil_tempdat) = c("date", "Temp1", "Temp2", "Temp3")
soil_tempdat$Temp1 = as.numeric(substr(soil_tempdat$Temp1, 17,21))
soil_tempdat$Temp2 = as.numeric(substr(soil_tempdat$Temp2, 17,21))
soil_tempdat$Temp3 = as.numeric(substr(soil_tempdat$Temp3, 17,21))
soil_tempdat$year = as.numeric(substr(soil_tempdat$date, 1, 4))
soil_tempdat$month = as.numeric(substr(soil_tempdat$date, 6, 7))
soil_tempdat$day = as.numeric(substr(soil_tempdat$date, 9, 10))
soil_tempdat$hour = as.numeric(substr(soil_tempdat$date, 12, 13))
soil_tempdat$minute = as.numeric(substr(soil_tempdat$date, 15, 16))
soil_tempdat$second = as.numeric(substr(soil_tempdat$date, 18, 19))
soil_tempdat$dayofyear = dayofyearlookup[soil_tempdat$month]+soil_tempdat$day+soil_tempdat$hour/24+soil_tempdat$minute/24/60+soil_tempdat$second/24/60/60
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(soil_tempdat$dayofyear), max(soil_tempdat$dayofyear), length=8), soil_tempdat$hour[seq(1, nrow(soil_tempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
## soil moist data
head(soil_moistdat)
colnames(soil_moistdat) = c("date", "Moist1", "Moist2")
soil_moistdat$Moist1 = as.numeric(gsub("C01: ", "", soil_moistdat$Moist1, fixed=TRUE))
soil_moistdat$Moist2 = as.numeric(gsub("C02: ", "", soil_moistdat$Moist2, fixed=TRUE))
soil_moistdat$year = as.numeric(substr(soil_moistdat$date, 1, 4))
soil_moistdat$month = as.numeric(substr(soil_moistdat$date, 6, 7))
soil_moistdat$day = as.numeric(substr(soil_moistdat$date, 9, 10))
soil_moistdat$hour = as.numeric(substr(soil_moistdat$date, 12, 13))
soil_moistdat$minute = as.numeric(substr(soil_moistdat$date, 15, 16))
soil_moistdat$second = as.numeric(substr(soil_moistdat$date, 18, 19))
soil_moistdat$dayofyear = dayofyearlookup[soil_moistdat$month]+soil_moistdat$day+soil_moistdat$hour/24+soil_moistdat$minute/24/60+soil_moistdat$second/24/60/60
par(mfrow=c(1,1), mar=c(4,4,4,1))
#matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist2")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
axis(3, at=seq(min(soil_moistdat$dayofyear), max(soil_moistdat$dayofyear), length=8), soil_moistdat$hour[seq(1, nrow(soil_moistdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Temp1", "Temp2")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
matplot(air_humtempdat$dayofyear, air_humtempdat[,c("Hum1", "Hum2")],
type = "l", xlab = "Day of Year", ylab = "Humidity, %")
axis(3, at=seq(min(air_humtempdat$dayofyear), max(air_humtempdat$dayofyear), length=8), air_humtempdat$hour[seq(1, nrow(air_humtempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(1,1), mar=c(4,4,4,1))
matplot(soil_tempdat$dayofyear, soil_tempdat[,c("Temp1", "Temp2", "Temp3")],
type = "l", xlab = "Day of Year", ylab = "Temperature, °C")
axis(3, at=seq(min(soil_tempdat$dayofyear), max(soil_tempdat$dayofyear), length=8), soil_tempdat$hour[seq(1, nrow(soil_tempdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
par(mfrow=c(1,1), mar=c(4,4,4,1))
#matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist1", "Moist2")],
matplot(soil_moistdat$dayofyear, soil_moistdat[,c("Moist2")],
type = "l", xlab = "Day of Year", ylab = "Soil Moisture")
axis(3, at=seq(min(soil_moistdat$dayofyear), max(soil_moistdat$dayofyear), length=8), soil_moistdat$hour[seq(1, nrow(soil_moistdat), length=8)])
mtext(side = 3, text = "Hour", line = 2.4)
